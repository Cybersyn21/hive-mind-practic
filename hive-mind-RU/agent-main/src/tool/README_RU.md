# Каталог tool/ — Инструменты агента

## Описание

Каталог `tool/` содержит реализацию всех 13 инструментов, которые AI-агент может использовать для выполнения задач. Каждый инструмент имеет файл реализации (`.ts`) и файл описания (`.txt`).

## Список инструментов

### Работа с файлами

| Инструмент | Файлы | Описание |
|------------|-------|----------|
| **read** | `read.ts`, `read.txt` | Чтение содержимого файлов |
| **write** | `write.ts`, `write.txt` | Создание и запись файлов |
| **edit** | `edit.ts`, `edit.txt` | Редактирование файлов (поиск и замена строк) |
| **list** (ls) | `ls.ts`, `ls.txt` | Просмотр содержимого директорий |

### Поиск

| Инструмент | Файлы | Описание |
|------------|-------|----------|
| **glob** | `glob.ts`, `glob.txt` | Поиск файлов по шаблону (`**/*.js`) |
| **grep** | `grep.ts`, `grep.txt` | Поиск текста в файлах с regex |
| **websearch** | `websearch.ts`, `websearch.txt` | Веб-поиск через Exa API |
| **codesearch** | `codesearch.ts`, `codesearch.txt` | Поиск кода через Exa API |

### Выполнение команд

| Инструмент | Файлы | Описание |
|------------|-------|----------|
| **bash** | `bash.ts`, `bash.txt` | Выполнение shell-команд |
| **batch** | `batch.ts`, `batch.txt` | Пакетное выполнение нескольких инструментов |
| **task** | `task.ts`, `task.txt` | Запуск подзадач (субагентов) |

### Утилиты

| Инструмент | Файлы | Описание |
|------------|-------|----------|
| **todo** | `todo.ts`, `todoread.txt`, `todowrite.txt` | Управление списком задач |
| **webfetch** | `webfetch.ts`, `webfetch.txt` | Загрузка и обработка веб-страниц |

## Вспомогательные файлы

| Файл | Описание |
|------|----------|
| `registry.ts` | Реестр всех инструментов |
| `tool.ts` | Базовые типы и интерфейсы для инструментов |
| `invalid.ts` | Обработка невалидных вызовов инструментов |
| `multiedit.ts`, `multiedit.txt` | Мультиредактирование (несколько файлов) |
| `patch.ts`, `patch.txt` | Применение патчей к файлам |

## Структура инструмента

Каждый инструмент состоит из:

1. **Файл реализации (`.ts`)** — TypeScript код с логикой
2. **Файл описания (`.txt`)** — Описание для AI-модели (промпт)

### Пример: инструмент `read`

**read.ts** — Реализация:
```typescript
export async function read(params: ReadParams): Promise<ReadResult> {
  const content = await Bun.file(params.path).text();
  return { content };
}
```

**read.txt** — Описание для AI:
```
Read the contents of a file at the specified path.
Parameters:
- path: The path to the file to read
Returns the file contents as text.
```

## Как AI использует инструменты

1. AI-модель анализирует запрос пользователя
2. Решает, какой инструмент нужен
3. Формирует JSON-запрос с параметрами
4. Агент выполняет инструмент
5. Результат возвращается AI для дальнейшей обработки

### Пример вызова инструмента

```json
{
  "name": "bash",
  "params": {
    "command": "ls -la"
  }
}
```

## Безопасность

**ВАЖНО**: Все инструменты работают БЕЗ ОГРАНИЧЕНИЙ:
- `bash` может выполнить любую команду
- `write` может перезаписать любой файл
- `read` может прочитать любой файл в системе

Используйте агента только в изолированных средах!

## Добавление нового инструмента

1. Создайте `myTool.ts` с реализацией
2. Создайте `myTool.txt` с описанием
3. Зарегистрируйте инструмент в `registry.ts`
